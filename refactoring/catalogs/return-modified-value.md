# 11.11 ìˆ˜ì •ëœ ê°’ ë°˜í™˜í•˜ê¸° (Return Modified Value)

ë°ì´í„°ê°€ ë³€ìˆ˜ì— ì €ìž¥ë˜ì–´ìžˆê³  ë‹¤ë¥¸ í•¨ìˆ˜ê°€ í•´ë‹¹ ë³€ìˆ˜ì— ì ‘ê·¼í•´ ê°’ì„ ìˆ˜ì •í•  ë•Œ, í•¨ìˆ˜ê°€ ë³€ìˆ˜ì— ì ‘ê·¼í•˜ì§€ ì•Šê³  ìˆ˜ì •ë˜ëŠ” ê°’ì„ ë°˜í™˜ì‹œí‚¤ê²Œ í•´ ë³€ìˆ˜ì˜ ê°’ì´ ìˆ˜ì •ë˜ëŠ” ë¶€ë¶„ì„ ëª…í™•ížˆ ë¶„ë¦¬ì‹œí‚¤ëŠ” ë¦¬íŒ©í† ë§.

## ðŸ—£ ì„¤ëª…

### ðŸ§ As is

```js
let paymentRequiredCash = 0;
calculatePaymentRequiredCash();

function calculatePaymentRequiredCash() {
  for (let history of order.paymentHistories) {
    if (history.method !== PaymentMethod.CASH) {
      continue;
    }
    paymentRequiredCash += (history.type === PaymentType.DEPOSIT ? 1 : -1) * history.amount;
  }
}
```

### ðŸ˜ To be

```js
const paymentRequiredCash = calculatePaymentRequiredCash();

function calculatePaymentRequiredCash() {
  let paymentRequiredCash = 0;

  for (let history of order.paymentHistories) {
    if (history.method !== PaymentMethod.CASH) {
      continue;
    }
    paymentRequiredCash += (history.type === PaymentType.DEPOSIT ? 1 : -1) * history.amount;
  }

  return paymentRequiredCash;
}
```

### ðŸ“‹ ìƒì„¸

ê°€ë³€í˜• ë³€ìˆ˜ì˜ ê°€ìž¥ í° ë‹¨ì ì€ í•´ë‹¹ ë³€ìˆ˜ì˜ scopeê°€ ì»¤ì§€ë©´ ì»¤ì§ˆìˆ˜ë¡ ì–´ë””ì„œ ì´ ê°’ì´ ì¶”ì ë˜ëŠ”ì§€ ì•Œê¸° íž˜ë“¤ë‹¤ëŠ” ê²ƒì´ë‹¤. ë°ì´í„° ë³€ê²½ íë¦„ì˜ ì¶”ì ì€ ì•ˆê·¸ëž˜ë„ ì–´ë ¤ìš´ ì¼ì¸ë°, ë³€ìˆ˜ë¥¼ ìˆ˜ì •í•˜ëŠ” í•¨ìˆ˜ê°€ ì—¬ê¸°ì €ê¸° í©ì–´ì ¸ ìžˆë‹¤ë©´ ì½”ë“œë¥¼ ì´í•´í•˜ëŠ” ê²ƒì€ ë”ìš± ì–´ë µë‹¤.
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë°ì´í„°ê°€ ê°±ì‹ ë˜ëŠ” ë¡œì§ì„ ìž‘ì€ í•¨ìˆ˜ì— ë„£ê³ , ê°’ì˜ ê°±ì‹ ì´ ëë‚  ë•Œ ê°’ì„ ë°˜í™˜í•˜ê²Œ í•˜ë©´ ë°ì´í„° ë³€ê²½ íë¦„ ì¶”ì ì´ ì¡°ê¸ˆ ë” ì‰¬ì›Œì§„ë‹¤.

ì´ ë¦¬íŒ©í„°ë§ì€ ê°’ í•˜ë‚˜ë¥¼ ê³„ì‚°í•˜ëŠ” ë¶„ëª…í•œ ëª©ì ì´ ìžˆëŠ” í•¨ìˆ˜ì—ëŠ” íš¨ê³¼ì ì´ë‚˜, ì—¬ëŸ¬ ê°œë¥¼ ê°±ì‹ í•˜ëŠ” í•¨ìˆ˜ì—ëŠ” íš¨ê³¼ì ì´ì§€ ì•Šë‹¤. ë‹¤ë¥¸ ë¦¬íŒ©í„°ë§(í•¨ìˆ˜ ì˜®ê¸°ê¸°)ì˜ ì¤€ë¹„ ìž‘ì—…ìœ¼ë¡œë„ ì¢‹ë‹¤.

### âš™ï¸ ì ˆì°¨

1. í•¨ìˆ˜ê°€ ìˆ˜ì •ëœ ê°’ì„ ë°˜í™˜í•˜ê²Œ í•˜ì—¬ í˜¸ì¶œìžê°€ ê·¸ ê°’ì„ ìžì‹ ì˜ ë³€ìˆ˜ì— ì €ìž¥í•˜ê²Œ í•˜ê³ , í…ŒìŠ¤íŠ¸í•œë‹¤.
2. í”¼í˜¸ì¶œ í•¨ìˆ˜ ì•ˆì— ë°˜í™˜í•  ê°’ì„ ê°€ë¦¬í‚¤ëŠ” ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ê³ , í…ŒìŠ¤íŠ¸í•œë‹¤.
    * ì´ ê°’ì´ ì˜ë„ëŒ€ë¡œ ì´ë¤„ì¡ŒëŠ”ì§€ ê²€ì‚¬í•˜ê³  ì‹¶ìœ¼ë©´ í˜¸ì¶œìžì—ì„œ ì´ˆê¹ƒê°’ì„ ìˆ˜ì •í•´ë³¸ë‹¤. ì œëŒ€ë¡œ ëìœ¼ë©´ ìˆ˜ì •ì´ ë¬´ì‹œë  ê²ƒì´ë‹¤.
3. ê³„ì‚°ì´ ì„ ì–¸ê³¼ ë™ì‹œì— ì´ë¤„ì§€ë„ë¡ í†µí•©í•˜ê³ , í…ŒìŠ¤íŠ¸í•œë‹¤.
    * ë³€ìˆ˜ ì„ ì–¸ì— í•¨ìˆ˜ ì‹¤í–‰ì„ ëŒ€ìž…í•˜ë¼ëŠ” ì˜ë¯¸.
    * ì–¸ì–´ê°€ ì§€ì›í•˜ë©´ ë³€ìˆ˜ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ì§€ì •í•œë‹¤.
4. í”¼í˜¸ì¶œ í•¨ìˆ˜ì˜ ë³€ìˆ˜ ì´ë¦„ì„ ìƒˆ ì—­í• ì— ì–´ìš¸ë¦¬ë„ë¡ ë°”ê¾¸ê³ , í…ŒìŠ¤íŠ¸í•œë‹¤.

## ðŸ“ ë©”ëª¨

### ðŸ˜ ë°˜ë³µë¬¸ì„ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ë³€ê²½í•´ ë³€ìˆ˜ë¥¼ ì™„ì „ížˆ ì œê±°í•œ To be

ìž‘ì€ í•¨ìˆ˜ë¡œ ë°ì´í„° ë³€ê²½ ë¡œì§ì„ ëª°ì•„ë„£ëŠ”ë‹¤ë©´, í•¨ìˆ˜ì˜ ìˆ˜ì • ë°©í–¥ì´ ëª…í™•í•˜ê²Œ ë³´ì´ê¸°ë„ í•œë‹¤. ì‹¤ì œë¡œ ìœ„ì˜ ì˜ˆì œëŠ” ë‹¤ë¥¸ ë¦¬íŒ©í† ë§ì„ ì ìš©í•´ ì´ë ‡ê²Œ ë³€ê²½í•˜ì—¬ ë³€ìˆ˜ë¥¼ ì™„ì „ížˆ ì œê±°í•  ìˆ˜ ìžˆë‹¤.

```js
const paymentRequiredCash = calculatePaymentRequiredCash();

function calculatePaymentRequiredCash() {
  return order.paymentHistories
    .filter(history => history.method === PaymentMethod.CASH)
    .reduce(
      (sum, history) =>
        sum += (history.type === PaymentType.DEPOSIT ? 1 : -1) * history.amount
      , 0
    );
}
```
